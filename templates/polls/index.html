{% extends "base.html" %} 

{% block content %}

<div class="container">
    <div class="row">
      <div class="col-md-8 mt-3 left">
        <div class="card mb-4">
            <div class="card-body">
                <h1>{{ question.question_text }}</h1>

                {% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}

                <form action="#" method="post">
                {% csrf_token %}

                  
                {% for choice in question.choice_set.all %}
                    <input type="radio" name="choice" id="choice{{ forloop.counter }}"  value="{{ choice.id }}">
                    <label for="choice{{ forloop.counter }}">{{ choice.choice_text }}</label><br>
                {% endfor %}
                <input type="submit" class="btn btn-primary" id="vote" data-catid="{{ question.id }}" value="Vote">
                </form>
            </div>
            
        </div>
        <div class="card">
            
          <p id="voted-text">Not voted</p>
          <ul>
          {% for choice in question.choice_set.all %}
              <li>{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes|pluralize }}</li>
          {% endfor %}
          </ul>
        </div>
      </div>

      <div class="col-md-4 float-right">
        {% block sidebar %}
        {% include 'widgets/sidebar.html' %} 
        {% endblock sidebar %}
      </div>
    </div>
</div>

<script type="text/javascript">

</script>

{% endblock content %}